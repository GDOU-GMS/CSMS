!function(a){void 0===a.fn.inputmask&&(a.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:a.noop,onincomplete:a.noop,oncleared:a.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:a.noop,onKeyDown:a.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:a.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(a,b,c,d){var e=a.length;return b||("*"==c?e=d.length+1:c>1&&(e+=a.length*(c-1))),e}},escapeRegex:function(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return a.replace(new RegExp("(\\"+b.join("|\\")+")","gim"),"\\$1")}},a.fn.inputmask=function(b,c){function d(a){var b=document.createElement("input"),a="on"+a,c=a in b;return c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]),b=null,c}function e(b,c){var d=n.aliases[b];return d?(d.alias&&e(d.alias),a.extend(!0,n,d),a.extend(!0,n,c),!0):!1}function f(b){n.numericInput&&(b=b.split("").reverse().join(""));var c=!1,d=0,e=n.greedy,f=n.repeat;"*"==f&&(e=!1),1==b.length&&0==e&&0!=f&&(n.placeholder="");for(var g=a.map(b.split(""),function(a){var b=[];if(a==n.escapeChar)c=!0;else if(a!=n.optionalmarker.start&&a!=n.optionalmarker.end||c){var e=n.definitions[a];if(e&&!c)for(var f=0;f<e.cardinality;f++)b.push(j(d+f));else b.push(a),c=!1;return d+=b.length,b}}),h=g.slice(),i=1;f>i&&e;i++)h=h.concat(g.slice());return{mask:h,repeat:f,greedy:e}}function g(b){n.numericInput&&(b=b.split("").reverse().join(""));var c=!1,d=!1,e=!1;return a.map(b.split(""),function(a){var b=[];if(a==n.escapeChar)d=!0;else if(a!=n.optionalmarker.start||d){if(a!=n.optionalmarker.end||d){var f=n.definitions[a];if(f&&!d){for(var g=f.prevalidator,h=g?g.length:0,i=1;i<f.cardinality;i++){var j=h>=i?g[i-1]:[],k=j.validator,l=j.cardinality;b.push({fn:k?"string"==typeof k?new RegExp(k):new function(){this.test=k}:new RegExp("."),cardinality:l?l:1,optionality:c,newBlockMarker:1==c?e:!1,offset:0,casing:f.casing,def:f.definitionSymbol||a}),1==c&&(e=!1)}b.push({fn:f.validator?"string"==typeof f.validator?new RegExp(f.validator):new function(){this.test=f.validator}:new RegExp("."),cardinality:f.cardinality,optionality:c,newBlockMarker:e,offset:0,casing:f.casing,def:f.definitionSymbol||a})}else b.push({fn:null,cardinality:0,optionality:c,newBlockMarker:e,offset:0,casing:null,def:a}),d=!1;return e=!1,b}c=!1,e=!0}else c=!0,e=!0})}function h(){function b(a){function b(){this.matches=[],this.isGroup=!1,this.isOptional=!1,this.isQuantifier=!1}var c,d,e=/(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[]()|\\]+|./g,f=new b,g=[];for(l=[];c=e.exec(a);)switch(d=c[0],d.charAt(0)){case n.optionalmarker.end:case n.groupmarker.end:var h=g.pop();g.length>0?g[g.length-1].matches.push(h):(l.push(h),f=new b);break;case n.optionalmarker.start:!f.isGroup&&f.matches.length>0&&l.push(f),f=new b,f.isOptional=!0,g.push(f);break;case n.groupmarker.start:!f.isGroup&&f.matches.length>0&&l.push(f),f=new b,f.isGroup=!0,g.push(f);break;case n.quantifiermarker.start:var i=new b;i.isQuantifier=!0,i.matches.push(d),g.length>0?g[g.length-1].matches.push(i):f.matches.push(i);break;default:g.length>0?g[g.length-1].matches.push(d):f.matches.push(d)}return f.matches.length>0&&l.push(f),l}function c(a){return n.optionalmarker.start+a+n.optionalmarker.end}function d(a){var b=0,c=0,d=a.length;for(i=0;d>i&&(a.charAt(i)==n.optionalmarker.start&&b++,a.charAt(i)==n.optionalmarker.end&&c++,!(b>0&&b==c));i++);var e=[a.substring(0,i)];return d>i&&e.push(a.substring(i+1,d)),e}function e(a){var b=a.length;for(i=0;b>i&&a.charAt(i)!=n.optionalmarker.start;i++);var c=[a.substring(0,i)];return b>i&&c.push(a.substring(i+1,b)),c}function h(b,i,l){var m,n,o=d(i),p=e(o[0]);p.length>1?(m=b+p[0]+c(p[1])+(o.length>1?o[1]:""),-1==a.inArray(m,k)&&""!=m&&(k.push(m),n=f(m),j.push({mask:m,_buffer:n.mask,buffer:n.mask.slice(),tests:g(m),lastValidPosition:-1,greedy:n.greedy,repeat:n.repeat,metadata:l})),m=b+p[0]+(o.length>1?o[1]:""),-1==a.inArray(m,k)&&""!=m&&(k.push(m),n=f(m),j.push({mask:m,_buffer:n.mask,buffer:n.mask.slice(),tests:g(m),lastValidPosition:-1,greedy:n.greedy,repeat:n.repeat,metadata:l})),e(p[1]).length>1&&h(b+p[0],p[1]+o[1],l),o.length>1&&e(o[1]).length>1&&(h(b+p[0]+c(p[1]),o[1],l),h(b+p[0],o[1],l))):(m=b+o,-1==a.inArray(m,k)&&""!=m&&(k.push(m),n=f(m),j.push({mask:m,_buffer:n.mask,buffer:n.mask.slice(),tests:g(m),lastValidPosition:-1,greedy:n.greedy,repeat:n.repeat,metadata:l})))}var j=[],k=[],l=[];return a.isFunction(n.mask)&&(n.mask=n.mask.call(this,n)),a.isArray(n.mask)?a.each(n.mask,function(a,b){void 0!=b.mask?h("",b.mask.toString(),b):h("",b.toString())}):h("",n.mask.toString()),b(n.mask),n.greedy?j:j.sort(function(a,b){return a.mask.length-b.mask.length})}function j(a){return n.placeholder.charAt(a%n.placeholder.length)}function k(b,c){function d(){return b[c]}function e(){return d().tests}function f(){return d()._buffer}function g(){return d().buffer}function h(e,f,h){function i(a,b,c,d){for(var e=l(a),f=c?1:0,g="",h=b.buffer,i=b.tests[e].cardinality;i>f;i--)g+=u(h,e-(i-1));return c&&(g+=c),null!=b.tests[e].fn?b.tests[e].fn.test(g,h,a,d,n):c==u(b._buffer,a,!0)||c==n.skipOptionalPartCharacter?{refresh:!0,c:u(b._buffer,a,!0),pos:a}:!1}function j(c,d){var g=!1;if(a.each(d,function(b,d){return g=-1==a.inArray(d.activeMasksetIndex,c)&&d.result!==!1,g?!1:void 0}),g)d=a.map(d,function(d){return-1==a.inArray(d.activeMasksetIndex,c)?d:(b[d.activeMasksetIndex].lastValidPosition=w,void 0)});else{var h=-1,j=-1;a.each(d,function(b,d){-1!=a.inArray(d.activeMasksetIndex,c)&&d.result!==!1&(-1==h||h>d.result.pos)&&(h=d.result.pos,j=d.activeMasksetIndex)}),d=a.map(d,function(d){if(-1!=a.inArray(d.activeMasksetIndex,c)){if(d.result.pos==h)return d;if(d.result!==!1){for(var g=e;h>g;g++){if(rsltValid=i(g,b[d.activeMasksetIndex],b[j].buffer[g],!0),rsltValid===!1){b[d.activeMasksetIndex].lastValidPosition=h-1;break}t(b[d.activeMasksetIndex].buffer,g,b[j].buffer[g],!0),b[d.activeMasksetIndex].lastValidPosition=g}return rsltValid=i(h,b[d.activeMasksetIndex],f,!0),rsltValid!==!1&&(t(b[d.activeMasksetIndex].buffer,h,f,!0),b[d.activeMasksetIndex].lastValidPosition=h),d}}})}return d}if(h=h===!0){var p=i(e,d(),f,h);return p===!0&&(p={pos:e}),p}var q=[],p=!1,r=c,v=g().slice(),w=d().lastValidPosition,x=(s(e),[]);return a.each(b,function(a,b){if("object"==typeof b){c=a;var j,l=e,n=d().lastValidPosition;if(n==w){if(l-w>1)for(var s=-1==n?0:n;l>s&&(j=i(s,d(),v[s],!0),j!==!1);s++){t(g(),s,v[s],!0),j===!0&&(j={pos:s});var u=j.pos||s;d().lastValidPosition<u&&(d().lastValidPosition=u)}if(!k(l)&&!i(l,d(),f,h)){for(var y=o(l)-l,z=0;y>z&&i(++l,d(),f,h)===!1;z++);x.push(c)}}if((d().lastValidPosition>=w||c==r)&&l>=0&&l<m()){if(p=i(l,d(),f,h),p!==!1){p===!0&&(p={pos:l});var u=p.pos||l;d().lastValidPosition<u&&(d().lastValidPosition=u)}q.push({activeMasksetIndex:a,result:p})}}}),c=r,j(x,q)}function i(){var e=c,f={activeMasksetIndex:0,lastValidPosition:-1,next:-1};a.each(b,function(a,b){"object"==typeof b&&(c=a,d().lastValidPosition>f.lastValidPosition?(f.activeMasksetIndex=a,f.lastValidPosition=d().lastValidPosition,f.next=o(d().lastValidPosition)):d().lastValidPosition==f.lastValidPosition&&(-1==f.next||f.next>o(d().lastValidPosition))&&(f.activeMasksetIndex=a,f.lastValidPosition=d().lastValidPosition,f.next=o(d().lastValidPosition)))}),c=-1!=f.lastValidPosition&&b[e].lastValidPosition==f.lastValidPosition?e:f.activeMasksetIndex,e!=c&&(x(g(),o(f.lastValidPosition),m()),d().writeOutBuffer=!0),I.data("_inputmask").activeMasksetIndex=c}function k(a){var b=l(a),c=e()[b];return void 0!=c?c.fn:!1}function l(a){return a%e().length}function m(){return n.getMaskLength(f(),d().greedy,d().repeat,g(),n)}function o(a){var b=m();if(a>=b)return b;for(var c=a;++c<b&&!k(c););return c}function s(a){var b=a;if(0>=b)return 0;for(;--b>0&&!k(b););return b}function t(a,b,c,d){d&&(b=v(a,b));var f=e()[l(b)],g=c;if(void 0!=g&&void 0!=f)switch(f.casing){case"upper":g=c.toUpperCase();break;case"lower":g=c.toLowerCase()}a[b]=g}function u(a,b,c){return c&&(b=v(a,b)),a[b]}function v(a,b){for(var c;void 0==a[b]&&a.length<m();)for(c=0;void 0!==f()[c];)a.push(f()[c++]);return b}function w(a,b,c){a._valueSet(b.join("")),void 0!=c&&F(a,c)}function x(a,b,c,d){for(var e=b,g=m();c>e&&g>e;e++)d===!0?k(e)||t(a,e,""):t(a,e,u(f().slice(),e,!0))}function y(a,b){var c=l(b);t(a,b,u(f(),c))}function z(e,g,h,i){var j=void 0!=i?i.slice():B(e._valueGet()).split("");a.each(b,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1,b.p=-1)}),h!==!0&&(c=0),g&&e._valueSet(""),m(),a.each(j,function(b,c){var i=d().lastValidPosition,j=-1==i?b:o(i);(a.isArray(n.mask)||-1==a.inArray(c,f().slice(i+1,j)))&&a(e).trigger("_keypress",[!0,c.charCodeAt(0),g,h,b])}),h===!0&&-1!=d().p&&(d().lastValidPosition=s(d().p))}function A(b){return a.inputmask.escapeRegex.call(this,b)}function B(a){return a.replace(new RegExp("("+A(f().join(""))+")*$"),"")}function C(a){for(var b,c,d=g(),f=d.slice(),c=f.length-1;c>=0;c--){var b=l(c);if(!e()[b].optionality)break;if(k(c)&&h(c,d[c],!0))break;f.pop()}w(a,f)}function D(b,c){if(!e()||c!==!0&&b.hasClass("hasDatepicker"))return b[0]._valueGet();var d=a.map(g(),function(a,b){return k(b)&&h(b,a,!0)?a:null});return(J?d.reverse():d).join("")}function E(a){if(J&&"number"==typeof a&&(!n.greedy||""!=n.placeholder)){var b=g().length;a=b-a}return a}function F(b,c,d){var e,f=b.jquery&&b.length>0?b[0]:b;return"number"!=typeof c?a(b).is(":visible")?(f.setSelectionRange?(c=f.selectionStart,d=f.selectionEnd):document.selection&&document.selection.createRange&&(e=document.selection.createRange(),c=0-e.duplicate().moveStart("character",-1e5),d=c+e.text.length),c=E(c),d=E(d),{begin:c,end:d}):{begin:0,end:0}:(c=E(c),d=E(d),a(b).is(":visible")&&(d="number"==typeof d?d:c,f.scrollLeft=f.scrollWidth,0==n.insertMode&&c==d&&d++,f.setSelectionRange?(f.selectionStart=c,f.selectionEnd=q?c:d):f.createTextRange&&(e=f.createTextRange(),e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select())),void 0)}function G(d){var e=!1,g=0,h=c;return a.each(b,function(a,b){if("object"==typeof b){c=a;var h=s(m());if(b.lastValidPosition>=g&&b.lastValidPosition==h){for(var i=!0,n=0;h>=n;n++){var o=k(n),p=l(n);if(o&&(void 0==d[n]||d[n]==j(n))||!o&&d[n]!=f()[p]){i=!1;break}}if(e=e||i)return!1}g=b.lastValidPosition}}),c=h,e}function H(a,b){return J?a-b>1||1==a-b&&n.insertMode:b-a>1||1==b-a&&n.insertMode}var I,J=!1,K=g().join("");return this.unmaskedvalue=function(a,b){return J=a.data("_inputmask").isRTL,D(a,b)},this.isComplete=function(a){return G(a)},this.mask=function(q){function v(b){var c=a._data(b).events;a.each(c,function(b,c){a.each(c,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type&&"_keypress"!=b.type){var c=b.handler;b.handler=function(a){return this.readOnly||this.disabled?(a.preventDefault,void 0):c.apply(this,arguments)}}})})}function A(b){var c;if(Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(b,"value")),c&&c.get){if(!b._valueGet){var d=c.get,e=c.set;b._valueGet=function(){return J?d.call(this).split("").reverse().join(""):d.call(this)},b._valueSet=function(a){e.call(this,J?a.split("").reverse().join(""):a)},Object.defineProperty(b,"value",{get:function(){var b=a(this),c=a(this).data("_inputmask"),e=c.masksets,f=c.activeMasksetIndex;return c&&c.opts.autoUnmask?b.inputmask("unmaskedvalue"):d.call(this)!=e[f]._buffer.join("")?d.call(this):""},set:function(b){e.call(this,b),a(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&b.__lookupGetter__("value")){if(!b._valueGet){var d=b.__lookupGetter__("value"),e=b.__lookupSetter__("value");b._valueGet=function(){return J?d.call(this).split("").reverse().join(""):d.call(this)},b._valueSet=function(a){e.call(this,J?a.split("").reverse().join(""):a)},b.__defineGetter__("value",function(){var b=a(this),c=a(this).data("_inputmask"),e=c.masksets,f=c.activeMasksetIndex;return c&&c.opts.autoUnmask?b.inputmask("unmaskedvalue"):d.call(this)!=e[f]._buffer.join("")?d.call(this):""}),b.__defineSetter__("value",function(b){e.call(this,b),a(this).triggerHandler("setvalue.inputmask")})}}else if(b._valueGet||(b._valueGet=function(){return J?this.value.split("").reverse().join(""):this.value},b._valueSet=function(a){this.value=J?a.split("").reverse().join(""):a}),void 0==a.valHooks.text||1!=a.valHooks.text.inputmaskpatch){var d=a.valHooks.text&&a.valHooks.text.get?a.valHooks.text.get:function(){return this.value},e=a.valHooks.text&&a.valHooks.text.set?a.valHooks.text.set:function(a){return this.value=a};jQuery.extend(a.valHooks,{text:{get:function(b){var c=a(b);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");var e=d.call(b),f=c.data("_inputmask"),g=f.masksets,h=f.activeMasksetIndex;return e!=g[h]._buffer.join("")?e:""}return d.call(b)},set:function(b,c){var d=a(b),f=e.call(b,c);return d.data("_inputmask")&&d.triggerHandler("setvalue.inputmask"),f},inputmaskpatch:!0}})}}function D(a,b,c,i){var n=g();if(i!==!1)for(;!k(a)&&a-1>=0;)a--;for(var p=a;b>p&&p<m();p++)if(k(p)){y(n,p);var q=o(p),r=u(n,q);if(r!=j(q))if(q<m()&&h(p,r,!0)!==!1&&e()[l(p)].def==e()[l(q)].def)t(n,p,u(n,q),!0),b>q&&y(n,q);else if(k(p))break}else y(n,p);if(void 0!=c&&t(n,s(b),c),0==d().greedy){var v=B(n.join("")).split("");n.length=v.length;for(var p=0,w=n.length;w>p;p++)n[p]=v[p];0==n.length&&(d().buffer=f().slice())}return a}function L(a,b,c,i){for(var n=g(),p=a;b>=p&&p<m();p++)if(k(p)){var q=u(n,p,!0);if(t(n,p,c,!0),q!=j(p)){var r=o(p);if(!(r<m()))break;if(h(r,q,!0)!==!1&&e()[l(p)].def==e()[l(r)].def)c=q;else{if(k(r))break;c=q}}else if(c=q,i!==!0)break}else y(n,p);var s=n.length;if(0==d().greedy){var v=B(n.join("")).split("");n.length=v.length;for(var p=0,w=n.length;w>p;p++)n[p]=v[p];0==n.length&&(d().buffer=f().slice())}return b-(s-n.length)}function M(a,c,e){if(n.numericInput||J){switch(c){case n.keyCode.BACKSPACE:c=n.keyCode.DELETE;break;case n.keyCode.DELETE:c=n.keyCode.BACKSPACE}if(J){var f=e.end;e.end=e.begin,e.begin=f}}var h=!0;if(e.begin==e.end){var i=c==n.keyCode.BACKSPACE?e.begin-1:e.begin;n.isNumeric&&""!=n.radixPoint&&g()[i]==n.radixPoint&&(e.begin=g().length-1==i?e.begin:c==n.keyCode.BACKSPACE?i:o(i),e.end=e.begin),h=!1,c==n.keyCode.BACKSPACE?e.begin--:c==n.keyCode.DELETE&&e.end++}else 1!=e.end-e.begin||n.insertMode||(h=!1,c==n.keyCode.BACKSPACE&&e.begin--);x(g(),e.begin,e.end);var j=m();if(0==n.greedy)D(e.begin,j,void 0,!J&&c==n.keyCode.BACKSPACE&&!h);else{for(var l=e.begin,p=e.begin;p<e.end;p++)(k(p)||!h)&&(l=D(e.begin,j,void 0,!J&&c==n.keyCode.BACKSPACE&&!h));h||(e.begin=l)}var q=o(-1);x(g(),e.begin,e.end,!0),z(a,!1,void 0==b[1]||q>=e.end,g()),d().lastValidPosition<q?(d().lastValidPosition=-1,d().p=q):d().p=e.begin}function N(b){R=!1;var c=this,e=a(c),h=b.keyCode,j=F(c);h==n.keyCode.BACKSPACE||h==n.keyCode.DELETE||p&&127==h||b.ctrlKey&&88==h?(b.preventDefault(),88==h&&(K=g().join("")),M(c,h,j),i(),w(c,g(),d().p),c._valueGet()==f().join("")&&e.trigger("cleared"),n.showTooltip&&e.prop("title",d().mask)):h==n.keyCode.END||h==n.keyCode.PAGE_DOWN?setTimeout(function(){var a=o(d().lastValidPosition);n.insertMode||a!=m()||b.shiftKey||a--,F(c,b.shiftKey?j.begin:a,a)},0):h==n.keyCode.HOME&&!b.shiftKey||h==n.keyCode.PAGE_UP?F(c,0,b.shiftKey?j.begin:0):h==n.keyCode.ESCAPE||90==h&&b.ctrlKey?(z(c,!0,!1,K),e.click()):h!=n.keyCode.INSERT||b.shiftKey||b.ctrlKey?0!=n.insertMode||b.shiftKey||(h==n.keyCode.RIGHT?setTimeout(function(){var a=F(c);F(c,a.begin)},0):h==n.keyCode.LEFT&&setTimeout(function(){var a=F(c);F(c,a.begin-1)},0)):(n.insertMode=!n.insertMode,F(c,n.insertMode||j.begin!=m()?j.begin:j.begin-1));var k=F(c);n.onKeyDown.call(this,b,g(),n)===!0&&F(c,k.begin,k.end),S=-1!=a.inArray(h,n.ignorables)}function O(e,f,k,l,p,q){if(void 0==k&&R)return!1;R=!0;var r=this,v=a(r);e=e||window.event;var k=k||e.which||e.charCode||e.keyCode;if(!(e.ctrlKey&&e.altKey||!(e.ctrlKey||e.metaKey||S)||f===!0))return!0;if(k){f!==!0&&46==k&&0==e.shiftKey&&","==n.radixPoint&&(k=44);var x,y,z,A=String.fromCharCode(k);if(f){var B=p?q:d().lastValidPosition+1;x={begin:B,end:B}}else x=F(r);var C=H(x.begin,x.end),D=c;C&&(c=D,a.each(b,function(a,b){"object"==typeof b&&(c=a,d().undoBuffer=g().join(""))}),M(r,n.keyCode.DELETE,x),n.insertMode||a.each(b,function(a,b){"object"==typeof b&&(c=a,L(x.begin,m(),j(x.begin),!0),d().lastValidPosition=o(d().lastValidPosition))}),c=D);var E=g().join("").indexOf(n.radixPoint);n.isNumeric&&f!==!0&&-1!=E&&(n.greedy&&x.begin<=E?(x.begin=s(x.begin),x.end=x.begin):A==n.radixPoint&&(x.begin=E,x.end=x.begin));var I=x.begin;y=h(I,A,p),p===!0&&(y=[{activeMasksetIndex:c,result:y}]);var J=-1;if(a.each(y,function(a,b){c=b.activeMasksetIndex,d().writeOutBuffer=!0;var e=b.result;if(e!==!1){var f=!1,h=g();if(e!==!0&&(f=e.refresh,I=void 0!=e.pos?e.pos:I,A=void 0!=e.c?e.c:A),f!==!0){if(1==n.insertMode){for(var i=m(),k=h.slice();u(k,i,!0)!=j(i)&&i>=I;)i=0==i?-1:s(i);if(i>=I){L(I,h.length,A);var l=d().lastValidPosition,q=o(l);q!=m()&&l>=I&&u(g(),q,!0)!=j(q)&&(d().lastValidPosition=q)}else d().writeOutBuffer=!1}else t(h,I,A,!0);(-1==J||J>o(I))&&(J=o(I))}else if(!p){var r=I<m()?I+1:I;(-1==J||J>r)&&(J=r)}J>d().p&&(d().p=J)}}),p!==!0&&(c=D,i()),l!==!1&&(a.each(y,function(a,b){return b.activeMasksetIndex==c?(z=b,!1):void 0}),void 0!=z)){var K=this;if(setTimeout(function(){n.onKeyValidation.call(K,z.result,n)},0),d().writeOutBuffer&&z.result!==!1){var N,O=g();N=f?void 0:n.numericInput?I>E?s(J):A==n.radixPoint?J-1:s(J-1):J,w(r,O,N),f!==!0&&setTimeout(function(){G(O)&&v.trigger("complete")},0)}else C&&(d().buffer=d().undoBuffer.split(""))}n.showTooltip&&v.prop("title",d().mask),e.preventDefault()}}function P(b){var c=a(this),d=this,e=b.keyCode,h=g();n.onKeyUp.call(this,b,h,n),e==n.keyCode.TAB&&n.showMaskOnFocus&&(c.hasClass("focus.inputmask")&&0==d._valueGet().length?(h=f().slice(),w(d,h),F(d,0),K=g().join("")):(w(d,h),F(d,0,m())))}if(I=a(q),I.is(":input")){if(I.data("_inputmask",{masksets:b,activeMasksetIndex:c,opts:n,isRTL:!1}),n.showTooltip&&I.prop("title",d().mask),d().greedy=d().greedy?d().greedy:0==d().repeat,null!=I.attr("maxLength")){var Q=I.prop("maxLength");Q>-1&&a.each(b,function(a,b){"object"==typeof b&&"*"==b.repeat&&(b.repeat=Q)}),m()>Q&&Q>-1&&(Q<f().length&&(f().length=Q),0==d().greedy&&(d().repeat=Math.round(Q/f().length)),I.prop("maxLength",2*m()))}A(q);var R=!1,S=!1;if(n.numericInput&&(n.isNumeric=n.numericInput),("rtl"==q.dir||n.numericInput&&n.rightAlignNumerics||n.isNumeric&&n.rightAlignNumerics)&&I.css("text-align","right"),"rtl"==q.dir||n.numericInput){q.dir="ltr",I.removeAttr("dir");var T=I.data("_inputmask");T.isRTL=!0,I.data("_inputmask",T),J=!0}I.unbind(".inputmask"),I.removeClass("focus.inputmask"),I.closest("form").bind("submit",function(){K!=g().join("")&&I.change()}).bind("reset",function(){setTimeout(function(){I.trigger("setvalue")},0)}),I.bind("mouseenter.inputmask",function(){var b=a(this),c=this;!b.hasClass("focus.inputmask")&&n.showMaskOnHover&&c._valueGet()!=g().join("")&&w(c,g())}).bind("blur.inputmask",function(){var d=a(this),e=this,h=e._valueGet(),i=g();d.removeClass("focus.inputmask"),K!=g().join("")&&d.change(),n.clearMaskOnLostFocus&&""!=h&&(h==f().join("")?e._valueSet(""):C(e)),G(i)||(d.trigger("incomplete"),n.clearIncomplete&&(a.each(b,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1)}),c=0,n.clearMaskOnLostFocus?e._valueSet(""):(i=f().slice(),w(e,i))))}).bind("focus.inputmask",function(){var b=a(this),c=this,e=c._valueGet();n.showMaskOnFocus&&!b.hasClass("focus.inputmask")&&(!n.showMaskOnHover||n.showMaskOnHover&&""==e)&&c._valueGet()!=g().join("")&&w(c,g(),o(d().lastValidPosition)),b.addClass("focus.inputmask"),K=g().join("")}).bind("mouseleave.inputmask",function(){var b=a(this),c=this;n.clearMaskOnLostFocus&&(b.hasClass("focus.inputmask")||c._valueGet()==b.attr("placeholder")||(c._valueGet()==f().join("")||""==c._valueGet()?c._valueSet(""):C(c)))}).bind("click.inputmask",function(){var b=this;setTimeout(function(){var c=F(b),e=g();if(c.begin==c.end){var f,h=n.isRTL?E(c.begin):c.begin,i=d().lastValidPosition;f=n.isNumeric?n.skipRadixDance===!1&&""!=n.radixPoint&&-1!=a.inArray(n.radixPoint,e)?n.numericInput?o(a.inArray(n.radixPoint,e)):a.inArray(n.radixPoint,e):o(i):o(i),f>h?k(h)?F(b,h):F(b,o(h)):F(b,f)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){F(a,0,o(d().lastValidPosition))},0)}).bind("keydown.inputmask",N).bind("keypress.inputmask",O).bind("keyup.inputmask",P).bind(r+".inputmask dragdrop.inputmask drop.inputmask",function(b){var c=this,d=a(c);return"propertychange"==b.type&&c._valueGet().length<=m()?!0:(setTimeout(function(){z(c,!0,!1),G(g())&&d.trigger("complete"),d.click()},0),void 0)}).bind("setvalue.inputmask",function(){var a=this;z(a,!0),K=g().join(""),a._valueGet()==f().join("")&&a._valueSet("")}).bind("_keypress.inputmask",O).bind("complete.inputmask",n.oncomplete).bind("incomplete.inputmask",n.onincomplete).bind("cleared.inputmask",n.oncleared),z(q,!0,!1),K=g().join("");var U;try{U=document.activeElement}catch(V){}U===q?(I.addClass("focus.inputmask"),F(q,o(d().lastValidPosition))):n.clearMaskOnLostFocus?g().join("")==f().join("")?q._valueSet(""):C(q):w(q,g()),v(q)}},this}var l,m,n=a.extend(!0,{},a.inputmask.defaults,c),o=null!==navigator.userAgent.match(new RegExp("msie 10","i")),p=null!==navigator.userAgent.match(new RegExp("iphone","i")),q=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),r=d("paste")&&!o?"paste":d("input")?"input":"propertychange",s=0;if(q){var t=navigator.userAgent.match(/safari.*/i),u=parseInt(new RegExp(/[0-9]+/).exec(t));l=537>=u}if("string"==typeof b)switch(b){case"mask":return e(n.alias,c),m=h(),0==m.length?this:this.each(function(){k(a.extend(!0,{},m),0).mask(this)});case"unmaskedvalue":var v=a(this);return v.data("_inputmask")?(m=v.data("_inputmask").masksets,s=v.data("_inputmask").activeMasksetIndex,n=v.data("_inputmask").opts,k(m,s).unmaskedvalue(v)):v.val();case"remove":return this.each(function(){var b=a(this),c=this;if(b.data("_inputmask")){m=b.data("_inputmask").masksets,s=b.data("_inputmask").activeMasksetIndex,n=b.data("_inputmask").opts,c._valueSet(k(m,s).unmaskedvalue(b,!0)),b.removeData("_inputmask"),b.unbind(".inputmask"),b.removeClass("focus.inputmask");var d;Object.getOwnPropertyDescriptor&&(d=Object.getOwnPropertyDescriptor(c,"value")),d&&d.get?c._valueGet&&Object.defineProperty(c,"value",{get:c._valueGet,set:c._valueSet}):document.__lookupGetter__&&c.__lookupGetter__("value")&&c._valueGet&&(c.__defineGetter__("value",c._valueGet),c.__defineSetter__("value",c._valueSet));try{delete c._valueGet,delete c._valueSet}catch(e){c._valueGet=void 0,c._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(m=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,m[s]._buffer.join("")):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return m=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,n=this.data("_inputmask").opts,k(m,s).isComplete(this[0]._valueGet().split(""));case"getmetadata":return this.data("_inputmask")?(m=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,m[s].metadata):void 0;default:return e(b,c)||(n.mask=b),m=h(),0==m.length?this:this.each(function(){k(a.extend(!0,{},m),s).mask(this)})}else{if("object"==typeof b)return n=a.extend(!0,{},a.inputmask.defaults,b),e(n.alias,b),m=h(),0==m.length?this:this.each(function(){k(a.extend(!0,{},m),s).mask(this)});if(void 0==b)return this.each(function(){var b=a(this).attr("data-inputmask");if(b&&""!=b)try{b=b.replace(new RegExp("'","g"),'"');var d=a.parseJSON("{"+b+"}");a.extend(!0,d,c),n=a.extend(!0,{},a.inputmask.defaults,d),e(n.alias,d),n.alias=void 0,a(this).inputmask(n)}catch(f){}})}return this})}(jQuery);